<!DOCTYPE html>
<html>
<head>
  <title>YouTube Queue Receiver</title>
</head>
<body>
  <cast-media-player></cast-media-player>
  <script type="text/javascript" src="//www.gstatic.com/cast/sdk/libs/caf_receiver/v3/cast_receiver_framework.js"></script>
  <script>
    const context = cast.framework.CastReceiverContext.getInstance();
    const playerManager = context.getPlayerManager();

    // Lắng nghe dữ liệu tùy chỉnh khi một video được tải
    playerManager.setMessageInterceptor(
      cast.framework.messages.MessageType.LOAD,
      loadRequestData => {
        const customData = loadRequestData.media.customData;
        if (customData && customData.viewerName) {
          // Hiển thị tên người xem lên giao diện TV
          // (Đây là phần bạn sẽ phải tự code giao diện HTML/CSS)
          console.log('Video added by:', customData.viewerName);
          // Ví dụ: document.getElementById('viewer-name').innerText = `Added by: ${customData.viewerName}`;
        }
        return loadRequestData;
      }
    );

    context.start();
  </script>
</body>
</html>
